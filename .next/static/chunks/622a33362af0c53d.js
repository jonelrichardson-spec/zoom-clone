(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23972,e=>{"use strict";function t(){return navigator.mediaDevices?.getUserMedia?window.RTCPeerConnection?{supported:!0,message:""}:{supported:!1,message:"Your browser doesn't support peer-to-peer connections. Please use Chrome, Firefox, Safari, or Edge."}:{supported:!1,message:"Your browser doesn't support camera access. Please use Chrome, Firefox, Safari, or Edge."}}function r(e){return/^[a-zA-Z0-9_-]{4,36}$/.test(e)}e.s(["checkBrowserSupport",()=>t,"isValidRoomId",()=>r])},8294,(e,t,r)=>{t.exports=e.r(49354)},84666,e=>{"use strict";var t=e.i(46883),r=e.i(85988),s=e.i(8294),i=e.i(23972);function l(){let e=(0,s.useRouter)(),[l,o]=(0,r.useState)(""),[a,n]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[b,g]=(0,r.useState)("");async function h(){if(a){try{await navigator.clipboard.writeText(a)}catch{let e=document.createElement("input");e.value=a,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}c(!0),setTimeout(()=>c(!1),2e3)}}function f(){g("");let t=m.trim(),r=t;(t.includes("/room/")&&(r=t.split("/room/")[1]?.split(/[?#]/)[0]??""),r&&(0,i.isValidRoomId)(r))?e.push(`/room/${r}`):g("Invalid meeting link. Check the ID and try again.")}return(0,r.useEffect)(()=>{let{supported:e,message:t}=(0,i.checkBrowserSupport)();e||o(t)},[]),(0,t.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-background px-4",children:(0,t.jsxs)("main",{className:"flex w-full max-w-md flex-col items-center gap-8",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-blue-primary","aria-hidden":"true",children:(0,t.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,t.jsx)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"MeetUp"}),(0,t.jsx)("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Video calls made simple. No downloads, no login required."})]}),l&&(0,t.jsx)("div",{role:"alert",className:"w-full rounded-lg border border-red-300 bg-red-50 p-4 text-center text-sm text-red-700 dark:border-red-500/30 dark:bg-red-500/10 dark:text-red-300",children:l}),(0,t.jsx)("button",{onClick:function(){x(!0);let e=crypto.randomUUID().slice(0,8);n(`${window.location.origin}/room/${e}`),c(!1),x(!1)},disabled:!!l||u,"aria-label":"Create a new meeting",className:"w-full cursor-pointer rounded-lg bg-blue-primary px-6 py-3 text-base font-semibold text-white transition-colors hover:bg-blue-hover focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-primary disabled:cursor-not-allowed disabled:opacity-50",children:u?(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}),"Creating..."]}):"Create Meeting"}),a&&(0,t.jsxs)("div",{className:"flex w-full flex-col gap-3 rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Share this link to invite someone:"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{readOnly:!0,value:a,"aria-label":"Meeting link",className:"flex-1 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-foreground dark:border-slate-600 dark:bg-slate-900"}),(0,t.jsx)("button",{onClick:h,"aria-label":d?"Link copied":"Copy meeting link",className:"shrink-0 cursor-pointer rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium transition-colors hover:bg-slate-50 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-primary dark:border-slate-600 dark:bg-slate-700 dark:hover:bg-slate-600",children:d?(0,t.jsxs)("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[(0,t.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,t.jsx)("polyline",{points:"20 6 9 17 4 12"})}),"Copied!"]}):"Copy"})]}),(0,t.jsx)("button",{onClick:function(){if(!a)return;let t=a.split("/room/")[1];e.push(`/room/${t}`)},"aria-label":"Join the meeting you just created",className:"w-full cursor-pointer rounded-lg bg-blue-primary px-6 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-blue-hover focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-primary",children:"Join Meeting"})]}),(0,t.jsxs)("div",{className:"flex w-full items-center gap-3",children:[(0,t.jsx)("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"}),(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"or join an existing meeting"}),(0,t.jsx)("div",{className:"h-px flex-1 bg-slate-200 dark:bg-slate-700"})]}),(0,t.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:m,onChange:e=>{p(e.target.value),g("")},onKeyDown:e=>{"Enter"===e.key&&f()},placeholder:"Enter Meeting ID or link","aria-label":"Meeting ID or link","aria-invalid":!!b,className:"flex-1 rounded-lg border border-slate-200 bg-white px-3 py-2.5 text-sm text-foreground placeholder:text-slate-400 focus:border-blue-primary focus:outline-none focus:ring-1 focus:ring-blue-primary dark:border-slate-600 dark:bg-slate-800 dark:placeholder:text-slate-500"}),(0,t.jsx)("button",{onClick:f,disabled:!m.trim()||!!l,"aria-label":"Join meeting",className:"shrink-0 cursor-pointer rounded-lg bg-slate-800 px-5 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-slate-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-primary disabled:cursor-not-allowed disabled:opacity-40 dark:bg-slate-600 dark:hover:bg-slate-500",children:"Join"})]}),b&&(0,t.jsx)("p",{role:"alert",className:"text-xs text-red-500",children:b})]}),d&&(0,t.jsx)("div",{role:"status","aria-live":"polite",className:"fixed bottom-6 left-1/2 -translate-x-1/2 rounded-lg bg-slate-900 px-4 py-2 text-sm text-white shadow-lg dark:bg-white dark:text-slate-900",children:"Link copied to clipboard"})]})})}e.s(["default",()=>l])}]);